import { Bud } from '@roots/bud-framework';
/**
 * Execute a function before compiler has finished
 */
export const before = function (fn, onError) {
    this.hooks.action(`compiler.before`, async (bud) => {
        try {
            await bud.resolvePromises();
            await fn(bud);
        }
        catch (error) {
            onError ? onError(error) : bud.catch(error);
        }
    });
    return this;
};
